"0","# select only data in 2017 and optimize the df"
"0","suicide_2017 <- suicide_by_state %>% "
"0","  filter(YEAR==""2017"") %>% "
"0","  left_join(State_names, by = c(""STATE"" = ""Code"")) %>% "
"0","  rename(CODE = STATE,"
"0","         STATE = State) %>%"
"0","  arrange( RATE ) %>% "
"0","  select(STATE, CODE, DEATHS, RATE)"
"0",""
"0","# horizontal bar graph of suicide rate by state"
"0","suicide <- ggplot(data = suicide_2017,"
"0","       mapping = aes(x = reorder(STATE, -desc(RATE)),"
"0","                     y = RATE)) +"
"0","  geom_col(fill=""CornflowerBlue"","
"0","           width = 0.75) +"
"0","  # scale_y_continuous(labels = scales::percent) +"
"0","  labs(x = ""State"","
"0","       y = ""Suicide Death Rate(%)"","
"0","       title = ""Suicide Death Rate by State in 2017"") +"
"0","  # theme(text = element_text(size=15)) +"
"0","  coord_flip()"
"0","# suicide"
"0",""
"0",""
"0","#Suicide Rate by State map"
"0","suicide_map_df<- US_map %>% "
"0","  left_join(suicide_2017, by=c(""stusps""=""CODE""))"
"0",""
"0","suicide_map <- ggplot()+"
"0","  geom_sf(data = suicide_map_df,"
"0","          aes(fill = RATE), "
"0","          color = ""white"") +"
"0","  scale_fill_gradient(low = ""#86e884"", high = ""#244024"") +"
"0","  labs(x = ""Longitude"", y = ""Latitude"", fill = ""Suicide Death Rate"") +"
"0","  coord_sf(xlim = c(-170, -60), ylim = c(24, 72), expand = FALSE)"
"0","# suicide_map"
"0",""
"0","ggplotly(suicide_map) %>%"
"0","  widgetframe::frameWidget()"
"0",""
